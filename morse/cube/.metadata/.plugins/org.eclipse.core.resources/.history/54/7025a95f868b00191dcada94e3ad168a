/*
 * morse.c
 *
 *  Created on: 09.06.2019
 *      Author: sercezar
 */

#include "main.h"
#include "morse.h"
#include<stdbool.h>
#include <string.h>




uint8_t DataToSend[40];
uint8_t MessageCounter = 0;
uint8_t MessageLength = 0;
char CharArray[10];
uint8_t Iterator=0;


void MainFunction(){

}

void GetChars(uint32_t PressCounter){
	size_t last= sizeof(CharArray)/sizeof(CharArray[0]) -1;
	if(true){
		if(PressCounter<=6){
			CharArray[last]='.';
		}
		else{
			CharArray[last]='_';
		}
	}
}


void ThrowWord(){
	size_t last= sizeof(CharArray)/sizeof(CharArray[0]) -1;
	if(CharArray[last]=='.'){
		++MessageCounter;
		MessageLength = sprintf(DataToSend, "Wiadomosc krotka %d\n\r", MessageCounter);
		CDC_Transmit_FS(DataToSend, MessageLength);
	}
	else if(CharArray[last]=='_'){
		++MessageCounter;
		MessageLength = sprintf(DataToSend, "Wiadomosc dluga %d\n\r", MessageCounter);
		CDC_Transmit_FS(DataToSend, MessageLength);
	}
	memset(CharArray,'0',10);
}

/*char SearchSymbol(char Array[10]){

}*/
